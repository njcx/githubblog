Title: Python WebSocket 探秘
Date: 2017-04-10 10:20
Modified: 2017-04-10 10:20
Category: Python
Tags: Python
Slug: D5
Authors: nJcx
Summary: Python websocket 探秘,实践记录如下
Status: draft

####介绍
HTTP 协议是一种无状态协议，只能由客户端向服务器发出请求，由服务器响应。如果服务端想对客服端发出请求该怎么办？比如，向客户端推送消息。长久以来, 创建实现客户端和用户端之间双工通讯都会造成HTTP轮询的滥用: 客户端向主机不断发送不同的HTTP呼叫来进行询问。这会导致一系列的问题：

- 服务器被迫为每个客户端使用许多不同的底层TCP连接：一个用于向客户端发送信息，其它用于接收每个传入消息。

- 有线协议有很高的开销，每一个客户端和服务器之间都有HTTP头。

- 客户端脚本被迫维护从传出连接到传入连接的映射来追踪回复。

一个更简单的解决方案是使用单个TCP连接双向通信。 这就是WebSocket协议所提供的功能。 结合WebSocket API ，WebSocket协议提供了一个用来替代HTTP轮询实现网页到远程主机的双向通信的方法。WebSocket协议被设计来取代用HTTP作为传输层的双向通讯技术,这些技术只能牺牲效率和可依赖性其中一方来提高另一方，因为HTTP最初的目的不是为了双向通讯。
